# 七牛AI装修软件 - 3D模型生成与设计系统

## 项目简介
七牛AI装修软件是一款集3D房间生成、装修设计、模型管理与导出功能于一体的综合性装修设计平台，旨在为用户提供直观、高效的虚拟装修体验。

## 技术栈

### 前端
- **框架**: Vue 3.3.4 + Vite 4.4.11
- **UI组件**: Element Plus 2.11.4
- **3D渲染**: Three.js 0.160.0
- **状态管理**: Pinia 3.0.3
- **路由**: Vue Router 4.5.1
- **HTTP请求**: Axios 1.12.2
- **样式预处理器**: Less
- **自动导入**: unplugin-auto-import, unplugin-vue-components

### 后端
- **框架**: Spring Boot 3.1.5
- **ORM框架**: MyBatis-Plus 3.5.7
- **数据库**: MySQL
- **缓存**: Redis
- **安全框架**: Spring Security
- **API文档**: SpringDoc OpenAPI 2.2.0
- **工具库**: Hutool 5.8.22, Fastjson2 2.0.43, Lombok
- **认证**: JWT 0.12.3

## 功能特点

### 1. 房间生成与设计
- 支持自定义房间尺寸和风格
- 实时3D预览房间布局
- 房间模型与装修元素的可视化编辑

### 2. 装修元素管理
- 装修模型的智能生成
- 模型拖拽、缩放、旋转等交互操作
- 丰富的灵感库提供设计参考

### 3. 个人模型库
- 用户模型的保存与管理
- 历史设计方案的快速访问
- 个性化模型收藏功能

### 4. 模型导出
- 支持GLTF、OBJ、STL多种格式导出
- 整合房间和所有模型为单一文件
- 高质量3D模型输出

### 5. 用户认证与安全
- 账号密码登录
- 手机号验证码登录
- 完善的权限管理机制

## 项目结构

```
├── frontend/           # 前端项目目录
│   ├── src/            # 前端源代码
│   │   ├── views/      # 页面组件
│   │   ├── components/ # 通用组件
│   │   ├── utils/      # 工具函数
│   │   ├── api/        # API接口定义
│   │   ├── stores/     # Pinia状态管理
│   │   └── router/     # 路由配置
│   ├── public/         # 静态资源
│   └── package.json    # 前端依赖配置
├── backend-simple/     # 后端项目目录
│   ├── src/            # 后端源代码
│   ├── pom.xml         # Maven项目配置
│   └── docs/           # API设计文档
└── README.md           # 项目说明文档
```

## 环境要求

### 前端
- Node.js 16+ 
- npm 8+ 或 yarn 1.22+

### 后端
- JDK 17+
- Maven 3.8+
- MySQL 8.0+
- Redis 6.0+

## 安装与运行

### 前端安装

1. 进入前端目录
```bash
cd frontend
```

2. 安装依赖
```bash
npm install
# 或
# yarn install
```

3. 启动开发服务器
```bash
npm run dev
# 或
# yarn dev
```

4. 构建生产版本
```bash
npm run build
# 或
# yarn build
```

### 后端安装

1. 进入后端目录
```bash
cd backend-simple
```

2. 构建项目
```bash
mvn clean package
```

3. 运行应用
```bash
java -jar target/generate-3d-backend-1.0.0.jar
```

## 使用说明

### 1. 用户登录与注册
- 支持账号密码登录和手机号验证码登录
- 新用户可通过注册页面创建账号

### 2. 房间生成与设计
1. 登录后进入设计界面
2. 点击"生成房间"按钮创建基础房间模型
3. 可通过RoomGenerator组件自定义房间参数
4. 使用ThreeScene组件查看和编辑3D场景

### 3. 装修模型添加
1. 切换到"装修"标签页
2. 通过ModelGenerator组件生成装修模型
3. 将生成的模型拖拽到房间中合适位置
4. 调整模型大小、旋转角度等参数

### 4. 模型导出
1. 点击界面中的导出按钮
2. 系统将自动整合房间和所有模型
3. 选择导出格式（GLTF、OBJ、STL）
4. 下载生成的3D模型文件

### 5. 灵感库与个人模型
- 通过"灵感库"标签页获取设计灵感
- 在"我的"标签页管理个人保存的模型

## 核心功能模块

### ThreeScene组件
负责3D场景的渲染与交互，提供模型加载、移动、缩放、旋转等功能，是整个系统的核心可视化组件。

### ModelGenerator组件
负责装修模型的生成逻辑，支持通过参数配置生成不同类型的装修模型。

### RoomGenerator组件
负责房间模型的生成与参数配置，支持自定义房间尺寸、风格等属性。

### ThreeJSManager
核心的3D管理类，封装了Three.js相关的复杂逻辑，提供场景初始化、模型加载、导出等功能。

## 注意事项

1. **开发环境配置**
   - 前端默认开发端口为Vite默认端口（通常为5173）
   - 后端默认端口为Spring Boot默认端口（通常为8080）

2. **跨域配置**
   - 后端已配置CORS跨域支持，开发环境下允许所有来源的请求
   - 生产环境应根据实际情况修改CORS配置，限制允许的源

3. **3D模型资源**
   - 系统支持OBJ、GLTF、STL等多种3D模型格式
   - 较大的模型文件可能会影响加载速度和渲染性能

4. **浏览器兼容性**
   - 推荐使用Chrome、Firefox等现代浏览器以获得最佳体验
   - 旧版本浏览器可能不支持某些WebGL特性

## License
[MIT](LICENSE)